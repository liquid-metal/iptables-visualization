<RuleWidget>:
    size: 10, 30
    size_hint: 1, None
    canvas:
        Color:
            rgba: 0.1, 0.7, 0.3, 1
        Ellipse:
            pos: root.x, root.y + (root.height - 10) / 2
            size: 10, 10
        Ellipse:
            pos: root.x + root.width - 10, root.y + (root.height - 10) / 2
            size: 10, 10
    Label:
        pos: root.x + 15, root.y
        size: root.width - 30, root.height
        text_size: self.size
        text: root.rule.content
        halign: 'left'
        valign: 'center'

<ChainWidget>:
    canvas:
        Color:
            rgba: 0.2, 0.2, 0.2, 1
        Rectangle:
            pos: self.x + 5, self.y
            size: self.width - 10, self.height
        Color:
            rgba: 0.3, 0.3, 0.3, 1
        Rectangle:
            pos: self.x + 5, self.y + self.height - 30
            size: self.width - 10, 30
    size: 350, 30*(len(root.chain.rules)+1)
    drag_rectangle: self.x + 10, self.y + self.height - 30, self.width - 20, 30
    drag_distance: 0
    BoxLayout:
        pos: root.pos
        size: root.size
        orientation: 'vertical'
        Label:
            text: root.chain.name
            text_size: self.size
            halign: 'center'
            valign: 'center'
            size: 10, 30
            size_hint: 1, None

Widget:
    canvas:
        Color:
            rgba: 0, 0, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size

